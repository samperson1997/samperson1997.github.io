<!DOCTYPE html>
<html>
  <head>
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport">
  <meta name="description" content="Blog of Samperson">
  <meta name="keyword" content="">
  
    <link rel="shortcut icon" href="/css/images/logo.png">
  
  <title>
    
      ⛵️帆船书#11-2 | 散列索引 | Blog of Samperson
    
  </title>
  <link href="//cdn.bootcss.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet">
  <link href="//cdn.bootcss.com/nprogress/0.2.0/nprogress.min.css" rel="stylesheet">
  <link href="//cdn.bootcss.com/highlight.js/9.12.0/styles/tomorrow.min.css" rel="stylesheet">
  <link rel="stylesheet" href="/css/style.css">
<link rel="stylesheet" href="/css/plugins/gitment.css">
  <script src="//cdn.bootcss.com/jquery/3.2.1/jquery.min.js"></script>
  <script src="//cdn.bootcss.com/geopattern/1.2.3/js/geopattern.min.js"></script>
  <script src="//cdn.bootcss.com/nprogress/0.2.0/nprogress.min.js"></script>
  <script src="/js/qrious.js"></script>
<script src="/js/gitment.js"></script>
</head>
<div class="wechat-share">
  <img src="/css/images/logo.png" />
</div>

  <body>
    <header class="header fixed-header">
  <div class="header-container">
    <a class="home-link" href="/">
      <div class="logo"></div>
      <span>Blog of Samperson</span>
    </a>
    <ul class="right-list">
      
        <li class="list-item">
          
            <a href="/" class="item-link">Home</a>
          
        </li>
      
        <li class="list-item">
          
            <a href="/tags/" class="item-link">Tags</a>
          
        </li>
      
        <li class="list-item">
          
            <a href="/archives/" class="item-link">Archives</a>
          
        </li>
      
        <li class="list-item">
          
            <a href="/project/" class="item-link">Projects</a>
          
        </li>
      
        <li class="list-item">
          
            <a href="/about/" class="item-link">About</a>
          
        </li>
      
    </ul>
    <div class="menu">
      <span class="icon-bar"></span>
      <span class="icon-bar"></span>
      <span class="icon-bar"></span>
    </div>
    <div class="menu-mask">
      <ul class="menu-list">
        
          <li class="menu-item">
            
              <a href="/" class="menu-link">Home</a>
            
          </li>
        
          <li class="menu-item">
            
              <a href="/tags/" class="menu-link">Tags</a>
            
          </li>
        
          <li class="menu-item">
            
              <a href="/archives/" class="menu-link">Archives</a>
            
          </li>
        
          <li class="menu-item">
            
              <a href="/project/" class="menu-link">Projects</a>
            
          </li>
        
          <li class="menu-item">
            
              <a href="/about/" class="menu-link">About</a>
            
          </li>
        
      </ul>
    </div>
  </div>
</header>

    <div id="article-banner">
    <h2>
        ⛵️帆船书#11-2 | 散列索引
    </h2>
    <p class="post-date">
        2020-01-28
    </p>
    <div class="arrow-down">
        <a href="javascript:;"></a>
    </div>
</div>
<main class="app-body flex-box">
    <!-- Article START -->
    <article class="post-article">
        <section class="markdown-content">
            <h2 id="散列索引"><a href="#散列索引" class="headerlink" title="散列索引"></a>散列索引</h2><h3 id="静态散列"><a href="#静态散列" class="headerlink" title="静态散列"></a>静态散列</h3><p>[1] 散列文件组织中通过计算所需记录搜索码值上的函数直接获得该记录的<strong>磁盘块地址</strong><br>散列索引组织中把<strong>搜索码</strong>以及它们相<strong>关联的指针</strong>组织成散列文件结构<br>[2] 散列字符串的散列函数: 最初把散列函数值设为0, 然后从字符串的第一个字符开始迭代, 把散列函数的值*31再加上下一个字符的值<br>每次乘法运算和除法运算自动模可能的最大整数值+1<br>[3] 桶溢出</p>
<ul>
<li>桶不足: 一般为n/f*(1+d), 避让因子d=0.2表示20%的桶是空的, n表示存储记录总数, f表示一个桶中存放记录数目</li>
<li>偏斜: 多条记录具有相同搜索码; 散列函数造成搜索码分布不均</li>
</ul>
<p>[4] 闭地址: 溢出桶和溢出链, 适用于数据库<br>开地址: 删除操作麻烦, 适用于构造编译器和汇编器的符号表</p>
<h3 id="动态散列"><a href="#动态散列" class="headerlink" title="动态散列"></a>动态散列</h3><p>[1] <strong>可扩充散列</strong>通过桶的分裂和合并适应数据库大小的变化, 仅作用于一个桶, 保持空间使用率, 带来性能开销低<br>[2] 记录插入文件时<strong>按需建桶</strong>: 开始时不使用散列值的全部b位, 任意时刻使用位数i小于等于b<br>i个位用作附加的桶地址表中的偏移量<br>[3] 给每一个桶附加一个整数值用来表明共同的散列前缀长度, 因为集合连续的表项可能指向同一个桶<br>[4] 优点: 性能不随文件的增长而降低, 空间开销最小, 桶动态分配<br>缺点: 查找设计附加的间接层(桶地址表) ——线性散列使用更多溢出桶避免了间接层</p>
<h3 id="动态散列的查询和更新"><a href="#动态散列的查询和更新" class="headerlink" title="动态散列的查询和更新"></a>动态散列的查询和更新</h3><p>[1] 查询</p>
<ol>
<li>取h(K)前i个高位</li>
<li>为这个位串查找对应的表项</li>
<li>根据表项指针得到对应桶的位置</li>
</ol>
<p>[2] 删除</p>
<ol>
<li>将搜索码从桶中删除, 把记录从文件中删除</li>
<li>如果桶是空的, 桶也要删除——合并桶 / 桶地址表的大小也可能减半</li>
</ol>
<p>[3] 插入 (<strong>例子: 293-296页</strong>)</p>
<ol>
<li>如果桶j有剩余空间, 将记录插入该桶</li>
<li>如果桶j已满, 分裂这个桶并将已有记录和新记录一起重新分配:<br>如果桶地址表只有一个表项指向桶j——增加桶底指标的大小, 容纳桶j分裂产生的两个桶指针<br>散列值+1位——原表中每个表项被两个表项替代, 两个表项都包含和原始表项一样的指针;<br>如果桶地址表有多个表项指向j, 分配一个新桶</li>
</ol>
<h3 id="顺序索引和散列的比较"><a href="#顺序索引和散列的比较" class="headerlink" title="顺序索引和散列的比较"></a>顺序索引和散列的比较</h3><p>考虑因素:<br>[1] 周期性重组的代价<br>[2] 插入和删除的相对频率<br>[3] 以最坏情况的访问时间为代价优化平均访问时间<br>[4] 查询类型(值查询 / 范围查询)</p>
<table>
<thead>
<tr>
<th style="text-align:left">B+树索引</th>
<th style="text-align:left">散列索引</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">优点: 支持的数据量大压缩效果好可以更多的索引放在内存中以保证每次查询小于等于1的读盘次数</td>
<td style="text-align:left">查找(hit), 写入的时间复杂度非常低, 性能非常高, 要比采用B+树的方法快得多</td>
</tr>
<tr>
<td style="text-align:left">缺点: 索引查找(hit和miss相同)、索引创建的性能、数据库的写入性能慢</td>
<td style="text-align:left">hash的方法为了处理碰撞, 空间利用率比较低, 占用空间较大。在miss的情况下, hash方法的查找效率会急剧下降</td>
</tr>
<tr>
<td style="text-align:left">可以用于使用 =, &gt;, &gt;=, &lt;, &lt;= 或者 BETWEEN 运算符的列比较; 如果 LIKE 的参数是一个<strong>没有以通配符起始的常量字符串</strong>的话也可以使用这种索引</td>
<td style="text-align:left"><strong>只能够用于使用 = 运算符的相等比较</strong> (但是速度更快); 散列索引<strong>不能够</strong>用于诸如 &lt;, &gt; 等用于查找一个范围值的比较运算符; 依赖于单值查找的系统被称为 “键-值存储”, 对于这种系统, 尽可能地使用散列索引</td>
</tr>
<tr>
<td style="text-align:left"></td>
<td style="text-align:left">优化器<strong>不能够</strong>使用 hash 索引来加速 ORDER BY 操作; 这种类型的索引不能够用于按照顺序查找下一个条目</td>
</tr>
<tr>
<td style="text-align:left"></td>
<td style="text-align:left">MySql <strong>无法</strong>使用 hash 索引估计两个值之间有多少行 (这种情况由范围优化器来决定使用哪个索引)</td>
</tr>
<tr>
<td style="text-align:left">任何该键的左前缀都可用以查找记录</td>
<td style="text-align:left"><strong>不支持</strong>最左匹配原则, 查找某行记录必须进行<strong>全键匹配</strong></td>
</tr>
</tbody>
</table>
<h2 id="位图索引"><a href="#位图索引" class="headerlink" title="位图索引"></a>位图索引</h2><p>[1] 每一个位图索引都建立在一个码上, 位图索引是为多码上的简单查询设计的特殊索引<br>[2] 位图索引很小, <strong>每个位图的位数=关系中的记录数</strong>, 一位表示一条记录<br>[3] 应用:</p>
<ul>
<li>属性只能取很少的一些数值(2~20), 对多个码的选择操作, 逻辑<strong>and</strong><br>如果满足条件的记录所占比例很大, 扫描整个关系代价更低</li>
<li>统计满足所给选择条件的元组数</li>
</ul>
<p>[4] <strong>存在位图</strong>可用于识别被删除的记录</p>
<ul>
<li>计算对某个条件取反的断言(not)后, 补码位图必须与存在位图and使得已删除对应的位为0</li>
<li>处理空值补码位图也必须和空值的补码位图and</li>
</ul>
<p>[5] 计算位图中1的数目: 维护一个256大小数组, 第i项存储<strong>i的二进制表示</strong>中值为1的个数<br>开始总计数值为0, 位图中每一<strong>字节</strong>作为数组下标, 将其中存储的值加到总计数值上</p>
<p>[6] 对于一些属性经常出现, 另一些属性出现频率很小的关系, 结合B+树和位图索引<br>B+树索引叶结点保留这个值为索引属性值的所有记录列表, 列表的每个元素可以是记录标识符; 对于在许多记录中出现的值(多于1/64), 存储一个位图而不是记录的列表</p>
<h2 id="不同存储引擎对索引的实现方式"><a href="#不同存储引擎对索引的实现方式" class="headerlink" title="不同存储引擎对索引的实现方式"></a>不同存储引擎对索引的实现方式</h2><p>索引本身很大, 不可能全部存储在<strong>内存</strong>中, 往往以索引文件的形式存储的<strong>磁盘</strong>上, 查找过程中就要产生磁盘I/O消耗, 相对于内存存取, I/O存取的消耗要高几个数量级。<br>评价数据结构作为索引的优劣最重要的指标：在查找过程中磁盘I/O操作次数的复杂度。</p>
<h3 id="MyISAM索引：非聚集"><a href="#MyISAM索引：非聚集" class="headerlink" title="MyISAM索引：非聚集"></a>MyISAM索引：非聚集</h3><p>[1] 使用B+Tree作为索引结构, 叶结点的data域存放的是数据记录的地址（索引文件和数据文件分离, 索引文件仅保存数据记录的地址）。<br>[2] 算法：首先按照B+Tree搜索算法搜索索引, 如果指定的Key存在, 则取出其data域的值, 然后以data域的值为地址, 读取相应数据记录。</p>
<h3 id="InnoDB索引：聚集"><a href="#InnoDB索引：聚集" class="headerlink" title="InnoDB索引：聚集"></a>InnoDB索引：聚集</h3><p>[1] 数据文件本身就是索引文件, 表数据文件本身就是按B+Tree组织的一个索引结构, 这棵树的叶结点data域保存了完整的数据记录。这个索引的key是数据表的主键, 因此<strong>InnoDB表数据文件本身就是主索引</strong>。<br>[2] InnoDB要求表必须有主键（MyISAM可以没有）；如果没有显式指定, MySQL系统会自动选择一个可以唯一标识数据记录的列作为主键；如果不存在这种列, MySQL自动为InnoDB表生成一个隐含字段作为主键, 这个字段长度为6个字节, 类型为长整形。<br>[3] InnoDB的辅助索引data域存储相应记录主键的值而不是地址, 即<strong>InnoDB的所有辅助索引都引用主键作为data域</strong>。主键的搜索十分高效, 但是辅助索引搜索需要检索两遍索引：首先检索辅助索引获得主键, 然后用主键到主索引中检索获得记录。</p>
<p><br></p>
<h2 id="参考资料"><a href="#参考资料" class="headerlink" title="参考资料"></a>参考资料</h2><p>[1] <a href="https://www.cnblogs.com/lanqi/p/10282279.html" target="_blank" rel="noopener">https://www.cnblogs.com/lanqi/p/10282279.html</a><br>[2] <a href="https://blog.csdn.net/a_helloword/article/details/81592317" target="_blank" rel="noopener">https://blog.csdn.net/a_helloword/article/details/81592317</a><br>[3] <a href="https://blog.csdn.net/SkySuperWL/article/details/52583579" target="_blank" rel="noopener">https://blog.csdn.net/SkySuperWL/article/details/52583579</a><br>[4] <a href="http://blog.codinglabs.org/articles/theory-of-mysql-index.html" target="_blank" rel="noopener">http://blog.codinglabs.org/articles/theory-of-mysql-index.html</a></p>

        </section>
        <!-- Tags START -->
        
            <div class="tags">
                <span>Tags:</span>
                
  <a href="/tags#数据库系统概念" >
    <span class="tag-code">数据库系统概念</span>
  </a>

            </div>
            
                <!-- Tags END -->
                <!-- 打赏 START -->
                
                    <div class="money-like">
                        <div class="reward-btn">
                            赏
                            <span class="money-code">
            <span class="alipay-code">
              <div class="code-image"></div>
              <b>使用支付宝打赏</b>
            </span>
                            <span class="wechat-code">
              <div class="code-image"></div>
              <b>使用微信打赏</b>
            </span>
                            </span>
                        </div>
                        <p class="notice">如果觉得我的文章对您有帮助，欢迎点击上方按钮对我打赏</p>
                    </div>
                    
                        <!-- 打赏 END -->
                        <!-- 二维码 START -->
                        
                                <!-- 二维码 END -->
                                
                                            <!-- No Comment -->
                                            
    </article>
    <!-- Article END -->
    <!-- Catalog START -->
    
        <aside class="catalog-container">
    <div class="toc-main">
        <strong class="toc-title">Catalog</strong>
        
            <ol class="toc-nav"><li class="toc-nav-item toc-nav-level-2"><a class="toc-nav-link" href="#散列索引"><span class="toc-nav-number">1.</span> <span class="toc-nav-text"><a href="#&#x6563;&#x5217;&#x7D22;&#x5F15;" class="headerlink" title="&#x6563;&#x5217;&#x7D22;&#x5F15;"></a>&#x6563;&#x5217;&#x7D22;&#x5F15;</span></a><ol class="toc-nav-child"><li class="toc-nav-item toc-nav-level-3"><a class="toc-nav-link" href="#静态散列"><span class="toc-nav-number">1.1.</span> <span class="toc-nav-text"><a href="#&#x9759;&#x6001;&#x6563;&#x5217;" class="headerlink" title="&#x9759;&#x6001;&#x6563;&#x5217;"></a>&#x9759;&#x6001;&#x6563;&#x5217;</span></a></li><li class="toc-nav-item toc-nav-level-3"><a class="toc-nav-link" href="#动态散列"><span class="toc-nav-number">1.2.</span> <span class="toc-nav-text"><a href="#&#x52A8;&#x6001;&#x6563;&#x5217;" class="headerlink" title="&#x52A8;&#x6001;&#x6563;&#x5217;"></a>&#x52A8;&#x6001;&#x6563;&#x5217;</span></a></li><li class="toc-nav-item toc-nav-level-3"><a class="toc-nav-link" href="#动态散列的查询和更新"><span class="toc-nav-number">1.3.</span> <span class="toc-nav-text"><a href="#&#x52A8;&#x6001;&#x6563;&#x5217;&#x7684;&#x67E5;&#x8BE2;&#x548C;&#x66F4;&#x65B0;" class="headerlink" title="&#x52A8;&#x6001;&#x6563;&#x5217;&#x7684;&#x67E5;&#x8BE2;&#x548C;&#x66F4;&#x65B0;"></a>&#x52A8;&#x6001;&#x6563;&#x5217;&#x7684;&#x67E5;&#x8BE2;&#x548C;&#x66F4;&#x65B0;</span></a></li><li class="toc-nav-item toc-nav-level-3"><a class="toc-nav-link" href="#顺序索引和散列的比较"><span class="toc-nav-number">1.4.</span> <span class="toc-nav-text"><a href="#&#x987A;&#x5E8F;&#x7D22;&#x5F15;&#x548C;&#x6563;&#x5217;&#x7684;&#x6BD4;&#x8F83;" class="headerlink" title="&#x987A;&#x5E8F;&#x7D22;&#x5F15;&#x548C;&#x6563;&#x5217;&#x7684;&#x6BD4;&#x8F83;"></a>&#x987A;&#x5E8F;&#x7D22;&#x5F15;&#x548C;&#x6563;&#x5217;&#x7684;&#x6BD4;&#x8F83;</span></a></li></ol></li><li class="toc-nav-item toc-nav-level-2"><a class="toc-nav-link" href="#位图索引"><span class="toc-nav-number">2.</span> <span class="toc-nav-text"><a href="#&#x4F4D;&#x56FE;&#x7D22;&#x5F15;" class="headerlink" title="&#x4F4D;&#x56FE;&#x7D22;&#x5F15;"></a>&#x4F4D;&#x56FE;&#x7D22;&#x5F15;</span></a></li><li class="toc-nav-item toc-nav-level-2"><a class="toc-nav-link" href="#不同存储引擎对索引的实现方式"><span class="toc-nav-number">3.</span> <span class="toc-nav-text"><a href="#&#x4E0D;&#x540C;&#x5B58;&#x50A8;&#x5F15;&#x64CE;&#x5BF9;&#x7D22;&#x5F15;&#x7684;&#x5B9E;&#x73B0;&#x65B9;&#x5F0F;" class="headerlink" title="&#x4E0D;&#x540C;&#x5B58;&#x50A8;&#x5F15;&#x64CE;&#x5BF9;&#x7D22;&#x5F15;&#x7684;&#x5B9E;&#x73B0;&#x65B9;&#x5F0F;"></a>&#x4E0D;&#x540C;&#x5B58;&#x50A8;&#x5F15;&#x64CE;&#x5BF9;&#x7D22;&#x5F15;&#x7684;&#x5B9E;&#x73B0;&#x65B9;&#x5F0F;</span></a><ol class="toc-nav-child"><li class="toc-nav-item toc-nav-level-3"><a class="toc-nav-link" href="#MyISAM索引：非聚集"><span class="toc-nav-number">3.1.</span> <span class="toc-nav-text"><a href="#MyISAM&#x7D22;&#x5F15;&#xFF1A;&#x975E;&#x805A;&#x96C6;" class="headerlink" title="MyISAM&#x7D22;&#x5F15;&#xFF1A;&#x975E;&#x805A;&#x96C6;"></a>MyISAM&#x7D22;&#x5F15;&#xFF1A;&#x975E;&#x805A;&#x96C6;</span></a></li><li class="toc-nav-item toc-nav-level-3"><a class="toc-nav-link" href="#InnoDB索引：聚集"><span class="toc-nav-number">3.2.</span> <span class="toc-nav-text"><a href="#InnoDB&#x7D22;&#x5F15;&#xFF1A;&#x805A;&#x96C6;" class="headerlink" title="InnoDB&#x7D22;&#x5F15;&#xFF1A;&#x805A;&#x96C6;"></a>InnoDB&#x7D22;&#x5F15;&#xFF1A;&#x805A;&#x96C6;</span></a></li></ol></li><li class="toc-nav-item toc-nav-level-2"><a class="toc-nav-link" href="#参考资料"><span class="toc-nav-number">4.</span> <span class="toc-nav-text"><a href="#&#x53C2;&#x8003;&#x8D44;&#x6599;" class="headerlink" title="&#x53C2;&#x8003;&#x8D44;&#x6599;"></a>&#x53C2;&#x8003;&#x8D44;&#x6599;</span></a></li></ol>
                
    </div>
</aside>

            
                <!-- Catalog END -->
</main>

<script>
    (function() {
        var url = 'http://yoursite.com/2020/01/28/dbsc11-2/';
        var banner = 'https://images.pexels.com/photos/2470678/pexels-photo-2470678.jpeg?h=1280&w=1921'
        if (banner !== '' && banner !== 'undefined' && banner !== 'null') {
            $('#article-banner').css({
                'background-image': 'url(' + banner + ')'
            })
        } else {
            $('#article-banner').geopattern(url)
        }
        $('.header').removeClass('fixed-header')

        // error image
        $(".markdown-content img").on('error', function() {
            $(this).attr('src', 'http://file.muyutech.com/error-img.png')
            $(this).css({
                'cursor': 'default'
            })
        })

        // zoom image
        $(".markdown-content img").on('click', function() {
            var src = $(this).attr('src')
            if (src !== 'http://file.muyutech.com/error-img.png') {
                var imageW = $(this).width()
                var imageH = $(this).height()

                var zoom = ($(window).width() * 0.95 / imageW).toFixed(2)
                zoom = zoom < 1 ? 1 : zoom
                zoom = zoom > 2 ? 2 : zoom
                var transY = (($(window).height() - imageH) / 2).toFixed(2)

                $('body').append('<div class="image-view-wrap"><div class="image-view-inner"><img src="' + src + '" /></div></div>')
                $('.image-view-wrap').addClass('wrap-active')
                $('.image-view-wrap img').css({
                    'width': `${imageW}`,
                    'transform': `translate3d(0, ${transY}px, 0) scale3d(${zoom}, ${zoom}, 1)`
                })
                $('html').css('overflow', 'hidden')

                $('.image-view-wrap').on('click', function() {
                    $(this).remove()
                    $('html').attr('style', '')
                })
            }
        })

        // qrcode
        var qr = new QRious({
            element: document.getElementById('share-qrcode'),
            value: document.location.href
        });

        // gitment
        var gitmentConfig = "samperson1997";
        if (gitmentConfig !== 'undefined') {
            var gitment = new Gitment({
                id: "⛵️帆船书#11-2 | 散列索引",
                owner: "samperson1997",
                repo: "samperson1997.github.io",
                oauth: {
                    client_id: "649cae277b0b34f46d41",
                    client_secret: "0d4bede9a22b662219ad576e375373578e4ec259"
                },
                theme: {
                    render(state, instance) {
                        const container = document.createElement('div')
                        container.lang = "en-US"
                        container.className = 'gitment-container gitment-root-container'
                        container.appendChild(instance.renderHeader(state, instance))
                        container.appendChild(instance.renderEditor(state, instance))
                        container.appendChild(instance.renderComments(state, instance))
                        container.appendChild(instance.renderFooter(state, instance))
                        return container;
                    }
                }
            })
            gitment.render(document.getElementById('comments'))
        }
    })();

</script>

    <div class="scroll-top">
  <span class="arrow-icon"></span>
</div>
    <footer class="app-footer">
    <p class="copyright">
        &copy; 2017-2020 | Content by <a href="https://samperson1997.github.io/about/">Samperson</a> | Proudly powered by <a href="https://hexo.io" target="_blank">Hexo</a>
        <br> Theme by <a href="https://github.com/yanm1ng">yanm1ng</a>
    </p>
</footer>

<script>
    function async(u, c) {
        var d = document,
            t = 'script',
            o = d.createElement(t),
            s = d.getElementsByTagName(t)[0];
        o.src = u;
        if (c) {
            o.addEventListener('load', function(e) {
                c(null, e);
            }, false);
        }
        s.parentNode.insertBefore(o, s);
    }

</script>
<script>
    async("//cdn.bootcss.com/fastclick/1.0.6/fastclick.min.js", function() {
        FastClick.attach(document.body);
    })

</script>

<script>
    var hasLine = 'true';
    async("//cdn.bootcss.com/highlight.js/9.12.0/highlight.min.js", function() {
        $('figure pre').each(function(i, block) {
            var figure = $(this).parents('figure');
            if (hasLine === 'false') {
                figure.find('.gutter').hide();
            }
            var lang = figure.attr('class').split(' ')[1] || 'code';
            var codeHtml = $(this).html();
            var codeTag = document.createElement('code');
            codeTag.className = lang;
            codeTag.innerHTML = codeHtml;
            $(this).attr('class', '').empty().html(codeTag);
            figure.attr('data-lang', lang.toUpperCase());
            hljs.highlightBlock(block);
        });
    })

</script>
<!-- Baidu Tongji -->

        <script src="/js/script.js"></script>

  </body>
</html>